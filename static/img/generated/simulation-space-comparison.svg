<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 350" font-family="Segoe UI, Arial, sans-serif">
  <!-- Background -->
  <rect width="800" height="350" fill="#2a2a2a"/>

  <!-- Title -->
  <text x="400" y="30" font-size="16" fill="#ffffff" text-anchor="middle" font-weight="bold">SimulationSpaceの違い</text>

  <!-- Panel 1: ComponentSpace -->
  <g transform="translate(20, 55)">
    <rect width="240" height="260" fill="#1e1e1e" rx="5"/>
    <text x="120" y="25" font-size="13" fill="#4ade80" text-anchor="middle" font-weight="bold">ComponentSpace</text>
    <text x="120" y="45" font-size="10" fill="#888" text-anchor="middle">（デフォルト）</text>

    <!-- Grid representing component space -->
    <g stroke="#333" stroke-width="1">
      <line x1="30" y1="80" x2="210" y2="80"/>
      <line x1="30" y1="120" x2="210" y2="120"/>
      <line x1="30" y1="160" x2="210" y2="160"/>
      <line x1="70" y1="60" x2="70" y2="200"/>
      <line x1="120" y1="60" x2="120" y2="200"/>
      <line x1="170" y1="60" x2="170" y2="200"/>
    </g>

    <!-- Skeletal mesh representation -->
    <circle cx="120" cy="90" r="15" fill="#0a3d62" stroke="#0080ff" stroke-width="2"/>
    <line x1="120" y1="105" x2="120" y2="160" stroke="#0080ff" stroke-width="3"/>

    <!-- Hair bones moving with component -->
    <path d="M 120 90 Q 140 100, 150 130 Q 155 150, 145 175" fill="none" stroke="#fbbf24" stroke-width="3"/>
    <circle cx="145" cy="175" r="4" fill="#fbbf24"/>

    <!-- Description -->
    <text x="120" y="215" font-size="10" fill="#888" text-anchor="middle">コンポーネント空間で</text>
    <text x="120" y="230" font-size="10" fill="#888" text-anchor="middle">シミュレーション</text>
    <text x="120" y="250" font-size="9" fill="#4ade80" text-anchor="middle">Rootの移動・回転が直接影響</text>
  </g>

  <!-- Panel 2: WorldSpace -->
  <g transform="translate(280, 55)">
    <rect width="240" height="260" fill="#1e1e1e" rx="5"/>
    <text x="120" y="25" font-size="13" fill="#60a5fa" text-anchor="middle" font-weight="bold">WorldSpace</text>
    <text x="120" y="45" font-size="10" fill="#888" text-anchor="middle">（ワールド空間）</text>

    <!-- World grid (fixed) -->
    <g stroke="#444" stroke-width="1">
      <line x1="30" y1="80" x2="210" y2="80"/>
      <line x1="30" y1="120" x2="210" y2="120"/>
      <line x1="30" y1="160" x2="210" y2="160"/>
      <line x1="70" y1="60" x2="70" y2="200"/>
      <line x1="120" y1="60" x2="120" y2="200"/>
      <line x1="170" y1="60" x2="170" y2="200"/>
    </g>

    <!-- World origin marker -->
    <circle cx="70" cy="160" r="6" fill="none" stroke="#ff6b6b" stroke-width="2"/>
    <text x="70" y="180" font-size="8" fill="#ff6b6b" text-anchor="middle">World</text>

    <!-- Skeletal mesh (can move independently) -->
    <circle cx="140" cy="90" r="15" fill="#0a3d62" stroke="#0080ff" stroke-width="2"/>
    <line x1="140" y1="105" x2="140" y2="160" stroke="#0080ff" stroke-width="3"/>

    <!-- Hair bones in world space -->
    <path d="M 140 90 Q 150 100, 155 130 Q 158 150, 152 175" fill="none" stroke="#fbbf24" stroke-width="3"/>
    <circle cx="152" cy="175" r="4" fill="#fbbf24"/>

    <!-- Movement arrow -->
    <path d="M 100 100 L 130 85" fill="none" stroke="#4ade80" stroke-width="2" marker-end="url(#arrow)"/>

    <!-- Description -->
    <text x="120" y="215" font-size="10" fill="#888" text-anchor="middle">ワールド空間で</text>
    <text x="120" y="230" font-size="10" fill="#888" text-anchor="middle">シミュレーション</text>
    <text x="120" y="250" font-size="9" fill="#60a5fa" text-anchor="middle">急激な移動・回転の影響を軽減</text>
  </g>

  <!-- Panel 3: BaseBoneSpace -->
  <g transform="translate(540, 55)">
    <rect width="240" height="260" fill="#1e1e1e" rx="5"/>
    <text x="120" y="25" font-size="13" fill="#c084fc" text-anchor="middle" font-weight="bold">BaseBoneSpace</text>
    <text x="120" y="45" font-size="10" fill="#888" text-anchor="middle">（基準ボーン空間）</text>

    <!-- Base bone centered grid -->
    <g stroke="#333" stroke-width="1">
      <line x1="30" y1="80" x2="210" y2="80"/>
      <line x1="30" y1="120" x2="210" y2="120"/>
      <line x1="30" y1="160" x2="210" y2="160"/>
      <line x1="70" y1="60" x2="70" y2="200"/>
      <line x1="120" y1="60" x2="120" y2="200"/>
      <line x1="170" y1="60" x2="170" y2="200"/>
    </g>

    <!-- Base bone marker -->
    <rect x="112" y="75" width="16" height="16" fill="#4a3c00" stroke="#fbbf24" stroke-width="2" rx="2"/>
    <text x="120" y="110" font-size="8" fill="#fbbf24" text-anchor="middle">Base</text>

    <!-- Skeletal mesh relative to base bone -->
    <circle cx="120" cy="130" r="12" fill="#0a3d62" stroke="#0080ff" stroke-width="2"/>
    <line x1="120" y1="142" x2="120" y2="175" stroke="#0080ff" stroke-width="2"/>

    <!-- Hair bones relative to base bone -->
    <path d="M 120 130 Q 130 140, 140 160 Q 145 175, 138 190" fill="none" stroke="#fbbf24" stroke-width="3"/>
    <circle cx="138" cy="190" r="4" fill="#fbbf24"/>

    <!-- Description -->
    <text x="120" y="215" font-size="10" fill="#888" text-anchor="middle">指定ボーン空間で</text>
    <text x="120" y="230" font-size="10" fill="#888" text-anchor="middle">シミュレーション</text>
    <text x="120" y="250" font-size="9" fill="#c084fc" text-anchor="middle">特定ボーン基準で安定化</text>
  </g>

  <!-- Arrow marker definition -->
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="8" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#4ade80"/>
    </marker>
  </defs>

  <!-- Legend -->
  <g transform="translate(200, 325)">
    <circle cx="0" cy="0" r="6" fill="#0a3d62" stroke="#0080ff" stroke-width="2"/>
    <text x="15" y="4" font-size="10" fill="#888">Mesh</text>

    <line x1="80" y1="-3" x2="100" y2="3" stroke="#fbbf24" stroke-width="3"/>
    <text x="115" y="4" font-size="10" fill="#888">物理ボーン</text>

    <rect x="200" y="-6" width="12" height="12" fill="#4a3c00" stroke="#fbbf24" stroke-width="2" rx="2"/>
    <text x="220" y="4" font-size="10" fill="#888">基準点</text>
  </g>
</svg>